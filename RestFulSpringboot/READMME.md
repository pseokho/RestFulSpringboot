# 개발 테스트를 위한 정리본

## 개발 배포 방법과 특이사항 정리

### 배포 방식 
1. war 파일 배포  
Spring Boot 1.4.2이상은 jar파일로 배포 시 jsp 파일이 정상동작을 하지않는 경우가 있어서 war로 배포 했습니다. 
2. 프로젝트 실행
- war파일 위치 : 프로젝트 최상위 폴더 아래 공유 했습니다.
- 사용법 : 기본적으로 프로젝트 구동은 java -jar [프로젝트].war를 사용하지만 
초기 사용자를 등록하기 위해선 매개변수를 예시와 같이 사용하시면 됩니다. 
java -jar [프로젝트].war [유저아이디] [비밀번호] 
> ex : java -jar RestFulSpringboot.war kakaobank kakaobank
### 개발 요구 사항과 기능개발
1. 로그인
- 사용자의 아이디와 비밀번호으로 로그인을 할 수 있어야 합니다. 단, 사용자 데이터는 애플리케이션 실행 시점에 생성합니다.
> 해당 기능은 따로 로그인 폼을 제작하지않고 Spring-Security의 권한 인증에 기능을 통해 사용자에 아이디 / 비밀번호 인증을 구현했습니다.
> 사용자 어플리케이션 실행 시점에 등록은 아이디/비밀번호로 매개변수로 입력받아 어플리케이션 구동시 사용자를 등록을 하게됩니다.
만약 실행시 유저 등록을 안하신경우 [kakao ,user ,admin]3명의 유저는 미리 등록해둔 data.sql을 통해 insert를 하기 때문에 따로 등록 없이 사용하시면됩니다(비밀번호는 아이디와 동일).
- 비밀번호는 암호화해서 저장해 주세요.
> 비밀번호는 단방향 암호화 인코딩방식인 BCryptPasswordEncoder를 사용해서 입력하고있습니다.

2. 장소 검색
- 키워드를 통해 장소를 검색할 수 있어야 합니다.
> 로그인 완료시 키워드창에 검색어를 입력후 검색을 누르면 검색을 진행합니다
- 검색 결과는 Pagination 형태로 제공해 주세요.
> 페이징형태로 제공중 AJAX를통해 조회해오고 있습니다. 기본적으로 카카오API에서 제공해주는 15개 리스트 3페이지를 기반으로 작성했습니다.
- 검색 소스는 카카오 API의 키워드로 장소 검색(https://developers.kakao.com/docs/restapi/local#키워드-검색)을 활용합니다.
> 로그인 검색결과는 카카오 API 키워드장소검색을 서버에서 httpClient를 통해서 REST 연동해 사용하고 있습니다.

3. 검색된 장소의 상세 조회
- 각 검색 결과의 상세 정보(지번, 도로명주소, 전화번호 등)를 확인할 수 있어야 합니다.
> 키워드를 통해 검색결과가 표출되면 목록으로 지번,도로명,전화번호를 기본적으로 리스트 형식으로 제공해주었습니다.
- 상세 정보에는 Daum 지도 바로가기 URL이 제공되어야 합니다. Daum 지도 Web API의 바로가기(http://apis.map.daum.net/web/guide/#bigmapurl)를 참고해 주세요.
> 해당 기능은 URL를 제공해주기 보다 지도 바로가기 기능을 넣어서 버튼을 클릭시 자동으로 해당 지도로 바로 가도록 구현했습니다.
4. 내 검색 히스토리
- 나의 검색 히스토리(키워드, 검색 일시)를 최신 순으로 보여 주세요.
> 내 검색 히스토리 버튼을 클릭하면 접근한 계정의 유저 검색 목록을 최신 검색일시 순으로 10개까지 표현하게 했습니다.
5. 인기 키워드 목록
- 사용자들이 많이 검색한 순서대로, 최대 10개의 검색 키워드를 제공합니다.
> 사용자의 상관없이 인기키워드 목록버튼 클릭시 검색어와, 해당 검색어의 조회 횟수를 최대 10개까지 표현하게 했습니다.

## 우대 사항에 관해서
1. Front-end 추가 요건
- SPA(Single Page Application)으로 구현해 주세요.
> SPA의 이해도 부족으로 하나에 page에서 ajax를 통해 구현했습니다.
- 상세 정보에는 지도가 제공되어야 합니다.  지도 표기는 Daum 지도 Web API(http://apis.map.daum.net/web/)를 이용합니다.
> 기본적으로 화면 로딩시 지도가 로딩이되고 키워드 검색시 해당 키워드 1번째 검색된 곳으로 지도를 draw했습니다. 목록 리스트에서 리스트 클릭시 해당 위치로 지도를 draw하는 기능이 있습니다.
-- 검색된 장소를 나타내는 커스텀 오버레이를 띄우고, 장소 이름과 주소를 표기해 주세요.
> 해당 기능은 구현중입니다
2. Back-end 추가 요건
- JPA를 사용하여 구현해 주세요.
>기본적인 테이블 구성은 DDL을 통한 방식이아닌 JPA를 통해 테이블 구현 방식을 이용했습니다.

## API 목록과 사용이유
1. Spring-Security
> Spring-Security는 사이트의 인증(Authentication)과 권한(Authorization) 기능을 제공 해주는데 이 기능등을 통해 생성한 어플리케이션의 로그인 인증 기능을 개발했습니다.
추가로 스프링 시큐리티는 권한 승인이 필요한 URL지정이나 모든 접근이 가능한 URL지정 , 로그아웃시 cache파일 삭제등 다양한 로그인/로그인 기능을 제공해주는 api입니다.

2. jquery 
> jquery로 만든 화면은 어느 브라우저에서나 동일하게 작동을 하는 장점이 있고, 추가로 AJAX의 기능을 사용해서 화면에 이동없이 컨트롤에서 정보를 받아올수 있어 SPA(Single Page Application)를 구현하기위해 사용했습니다.

3. httpclient
> 카카오 API 키워드로 장소검색 REST연동을 GET방식을 통해 정보를 받기 위해 사용했습니다.

4. json
> 카카오 API 키워드로 장소검색 REST연동을 통해 받아온 데이터는 기본적으로 JSON 형태이기 때문에 해당 데이터를 사용하기 위해선 JSON형식에 데이터 파싱을 해야 되기 때문에 JSON API를 사용했습니다. 

5. h2database
> 데이터베이스는 인메모리 디비를 사용하기때문에 h2database를 선택했습니다.

6. MyBatis 관련
> 기본적인 쿼리문 실행은 Mybatis 형식으로 처리 하기위해 사용 했습니다.

7. log4j2 
> 개발시 상세 로그를 확인하기 위해 사용했습니다. 제출용에서 로그 확인부분은 제거했습니다.

8. jsp 관련 
> 화면에서 jsp 기능을 사용하기 위해 사용했습니다.

